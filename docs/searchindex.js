Search.setIndex({docnames:["data_annotation","index","layout","layout.orientationnet","layout.parsenet","modules","multi_orientation","training_parsenet"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["data_annotation.rst","index.rst","layout.rst","layout.orientationnet.rst","layout.parsenet.rst","modules.rst","multi_orientation.rst","training_parsenet.rst"],objects:{"":{layout:[2,0,0,"-"]},"layout.augment_imgaug":{GeometricTransform:[2,1,1,""],InvalidGeometryException:[2,4,1,""],InvalidXmlException:[2,4,1,""],MotionBlur:[2,1,1,""],NormalizeLines:[2,1,1,""],RandomWalkMotionBlur:[2,1,1,""],get_args:[2,5,1,""],main:[2,5,1,""],polygon_correction:[2,5,1,""]},"layout.augment_imgaug.GeometricTransform":{get_line_endpoints:[2,2,1,""],intersect_polygon:[2,2,1,""],recreate_region_bounds:[2,3,1,""],transform_line:[2,2,1,""],transform_page_layout:[2,2,1,""],transform_page_layout_safe:[2,2,1,""],transform_region:[2,2,1,""]},"layout.augment_imgaug.MotionBlur":{ewma:[2,2,1,""],get_kernel:[2,2,1,""]},"layout.augment_imgaug.NormalizeLines":{get_line_height_median:[2,2,1,""],recreate_region_bounds:[2,3,1,""],transform_line:[2,2,1,""],transform_region:[2,2,1,""]},"layout.comp_ocr_pipelines":{get_bar_positions_and_widths:[2,5,1,""],main:[2,5,1,""],parse_arguments:[2,5,1,""],plot_bars:[2,5,1,""]},"layout.dataset":{OrientationnetDatasetOnline:[2,1,1,""],ParsenetDatasetOnline:[2,1,1,""]},"layout.dataset.OrientationnetDatasetOnline":{get_batch:[2,2,1,""],load_sample:[2,2,1,""]},"layout.dataset.ParsenetDatasetOnline":{get_batch:[2,2,1,""],load_sample:[2,2,1,""]},"layout.eval_ocr_pipeline_xml":{create_dir_if_not_exists:[2,5,1,""],eval_page:[2,5,1,""],main:[2,5,1,""],map_lines:[2,5,1,""],parse_arguments:[2,5,1,""]},"layout.metrics":{check_poly:[2,5,1,""],compute_PRF:[2,5,1,""],count_lines:[2,5,1,""],count_regions:[2,5,1,""],find_matches:[2,5,1,""],get_fvalue:[2,5,1,""],get_line_bsd:[2,5,1,""],get_poly_iou:[2,5,1,""],get_region_bsd:[2,5,1,""],main:[2,5,1,""],parse_arguments:[2,5,1,""],transkribus_eval:[2,5,1,""]},"layout.orientationnet":{orientation_nets:[3,0,0,"-"],train:[3,0,0,"-"]},"layout.orientationnet.orientation_nets":{ConvBlock2D:[3,1,1,""],OrientationLoss:[3,1,1,""],OrientationNet:[3,1,1,""],OrientationNetTrainer:[3,1,1,""],Unet2D_3:[3,1,1,""]},"layout.orientationnet.orientation_nets.ConvBlock2D":{add_layer:[3,2,1,""],forward:[3,2,1,""],training:[3,6,1,""]},"layout.orientationnet.orientation_nets.OrientationLoss":{forward:[3,2,1,""],masked_mse_loss:[3,2,1,""],training:[3,6,1,""]},"layout.orientationnet.orientation_nets.OrientationNet":{forward:[3,2,1,""],training:[3,6,1,""]},"layout.orientationnet.orientation_nets.OrientationNetTrainer":{freeze_and_save:[3,2,1,""],infer:[3,2,1,""],load_weights:[3,2,1,""],save_weights:[3,2,1,""],set_eval:[3,2,1,""],set_train:[3,2,1,""],train_step:[3,2,1,""]},"layout.orientationnet.orientation_nets.Unet2D_3":{forward:[3,2,1,""],training:[3,6,1,""]},"layout.orientationnet.train":{eval_sample:[3,5,1,""],main:[3,5,1,""],parse_arguments:[3,5,1,""],print_timestamp:[3,5,1,""],setGPU:[3,5,1,""]},"layout.page_editor":{MouseEditorCallback:[2,1,1,""],PageEditor:[2,1,1,""],check_intersection:[2,5,1,""],get_region_by_point:[2,5,1,""],main:[2,5,1,""],parse_arguments:[2,5,1,""],resample_layout:[2,5,1,""],select_polygons:[2,5,1,""]},"layout.page_editor.MouseEditorCallback":{callback:[2,2,1,""],clear:[2,2,1,""],del_point:[2,2,1,""],get_remaining_points:[2,2,1,""],get_selection_points:[2,2,1,""]},"layout.page_editor.PageEditor":{annotate:[2,2,1,""],clear_interaction:[2,2,1,""],create_line:[2,2,1,""],create_region:[2,2,1,""],create_region_from_lines:[2,2,1,""],remove_selected_lines:[2,2,1,""],remove_selected_regions:[2,2,1,""],render:[2,2,1,""],render_selected_elements:[2,2,1,""],select_layout_elements:[2,2,1,""],sync_all_heights:[2,2,1,""],sync_line_heights:[2,2,1,""],update_layout:[2,2,1,""],update_selected_lines:[2,2,1,""]},"layout.parsenet":{parse_nets:[4,0,0,"-"],train:[4,0,0,"-"]},"layout.parsenet.parse_nets":{ConvBlock2D:[4,1,1,""],DiceLoss:[4,1,1,""],ParseNet:[4,1,1,""],ParseNetTrainer:[4,1,1,""],ParserLoss:[4,1,1,""],Unet2D_3:[4,1,1,""],UpscaleBlock2D:[4,1,1,""]},"layout.parsenet.parse_nets.ConvBlock2D":{add_layer:[4,2,1,""],forward:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.parse_nets.DiceLoss":{forward:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.parse_nets.ParseNet":{forward:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.parse_nets.ParseNetTrainer":{freeze_and_save:[4,2,1,""],infer:[4,2,1,""],load_weights:[4,2,1,""],save_weights:[4,2,1,""],set_eval:[4,2,1,""],set_train:[4,2,1,""],train_step:[4,2,1,""]},"layout.parsenet.parse_nets.ParserLoss":{forward:[4,2,1,""],masked_dice_loss:[4,2,1,""],masked_mse_loss:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.parse_nets.Unet2D_3":{forward:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.parse_nets.UpscaleBlock2D":{forward:[4,2,1,""],training:[4,6,1,""]},"layout.parsenet.train":{eval_sample:[4,5,1,""],main:[4,5,1,""],parse_arguments:[4,5,1,""],print_timestamp:[4,5,1,""],setGPU:[4,5,1,""]},layout:{augment_imgaug:[2,0,0,"-"],comp_ocr_pipelines:[2,0,0,"-"],dataset:[2,0,0,"-"],eval_ocr_pipeline_xml:[2,0,0,"-"],metrics:[2,0,0,"-"],orientationnet:[3,0,0,"-"],page_editor:[2,0,0,"-"],parsenet:[4,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","property","Python property"],"4":["py","exception","Python exception"],"5":["py","function","Python function"],"6":["py","attribute","Python attribute"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:property","4":"py:exception","5":"py:function","6":"py:attribute"},terms:{"0":[2,4,6,7],"001":4,"010":7,"05":4,"1":[2,4,6,7],"10":2,"100000":6,"111":7,"11838":[3,4,6,7],"120":6,"14":2,"15":2,"16":[3,4],"1e":4,"2":[2,3,4],"2102":[3,4,6,7],"256":[2,6,7],"3":[2,3,4],"300":2,"300000":7,"42869495":2,"5":[2,3,4],"50":[6,7],"500":2,"5000":[6,7],"6":[2,6,7],"7":2,"90":[2,6],"abstract":2,"boolean":2,"char":2,"class":[2,3,4],"default":[2,4],"export":7,"final":[6,7],"float":2,"function":[3,4],"new":[0,7],"return":2,"static":2,"true":[2,3,4],"while":[3,4],A:[0,2,7],For:7,If:[0,2,7],In:0,It:7,One:6,The:[0,2,6,7],There:7,To:7,Will:2,__init__:2,ab:[3,4,6,7],ad:[0,6],add_lay:[3,4],addition:7,adjust:0,adjust_height:0,aft:7,after:6,afterward:[3,4],again:0,all:[0,2,3,4,6],alloc:2,alpha:2,alreadi:0,also:[0,2,7],although:[3,4],an:[0,6,7],ani:[0,7],annot:[1,2,7],appli:2,ar:[0,6,7],architectur:[3,4,7],arg:2,argument:7,around:2,arrai:2,arxiv:[3,4,6,7],asc:2,ascend:0,attent:[4,6,7],attention_net:4,attention_unet_3s_3_16:[4,6,7],augment:[6,7],augment_imgaug:[1,5,6,7],automat:0,avail:7,averag:2,ax:2,base:[2,3,4,7],baselin:[0,2,7],basic:[0,6,7],batch:[2,6,7],batch_siz:2,becaus:[2,6],befor:7,below:[3,4],best:2,between:2,bewar:0,binari:2,block:7,blur:[6,7],bool:[2,3,4],both:6,bound:[0,2],boundari:2,box:2,bs:2,c:[0,2,6,7],calcul:2,call:[3,4],callback:2,can:[0,6,7],care:[3,4],cbad:[2,7],chang:7,channel:2,check:[2,7],check_intersect:2,check_poli:2,checkpoint:7,clear:2,clear_interact:2,clip:2,clockwis:2,com:2,comb:7,combin:6,comp_ocr_pipelin:[1,5],compar:[2,7],compare_model:7,compat:0,complet:7,comput:[0,2,3,4],compute_prf:2,config:[0,6,7],config_empi:0,config_empti:0,config_height:0,config_torch:7,config_torch_multiorient:6,configur:7,contain:[2,7],content:5,control:0,convblock2d:[3,4],convert:0,convex:2,correct:[0,6],correctli:2,correspond:[0,2,7],count:2,count_lin:2,count_region:2,cpu:[3,4],creat:0,create_dir_if_not_exist:2,create_lin:2,create_region:2,create_region_from_lin:2,crop:2,cuda:[3,4],current:6,cursor:2,custom:0,data:[1,2],dataset:[1,5,7],defin:[3,4,7],definit:[6,7],defocu:[6,7],deg:2,degre:6,del_point:2,delet:2,depend:[2,7],depth:[3,4,7],descend:0,describ:6,desir:7,detect:[2,3,4,6,7],detect_lin:0,detect_region:0,detection_net:4,detection_unet_3s_3_16:[3,4],detection_unet_3s_3_32:[6,7],detector:[1,6],devic:[3,4],dice:2,dice_dim:4,dice_smooth:4,diceloss:4,dictionari:2,differ:[6,7],dim:4,diplicit:[],direcli:7,directli:0,displai:0,distribut:2,document_ocr:2,doe:6,doesn:7,done:[0,6,7],downsampl:[2,3],draw:[0,2],drawn:2,drop:7,ds:2,dsc:2,dtype:2,due:2,duplicit:[0,6],dure:7,e:0,each:7,easi:7,easili:7,edit:[0,2],editor:0,empti:0,end:2,engin:4,equival:2,error:2,estim:6,eval:2,eval_ocr_pipeline_xml:[1,5],eval_pag:2,eval_sampl:[3,4],evalu:[2,7],even:7,event:2,everi:[3,4],everyth:6,ewm:2,ewma:2,exampl:[0,6,7],except:[0,2],exist:1,expect:7,experi:7,exponenti:2,extend:7,extern:1,extract:7,f:2,factor:4,fail:2,fals:[2,3,4,6,7],fast:2,featur:[3,4],file:[0,2,6,7],filter:6,filter_direct:6,find_match:2,fine:7,first:[2,6,7],fit:2,fix:2,flag:[0,2],flatten:2,float32:2,float64:2,folder:[0,7],follow:[0,6],fontsiz:2,form:0,format:0,former:[3,4],forward:[3,4],found:[6,7],framework:6,freez:[3,4],freeze_and_sav:[3,4],freshli:2,from:[1,2,7],frozen:[6,7],further:0,g:[6,7],gener:[6,7],geometr:2,geometri:2,geometrictransform:2,get_arg:2,get_bar_positions_and_width:2,get_batch:2,get_fvalu:2,get_kernel:2,get_line_bsd:2,get_line_endpoint:2,get_line_height_median:2,get_poly_i:2,get_region_bsd:2,get_region_by_point:2,get_remaining_point:2,get_selection_point:2,go:0,good:2,graph:6,ground:[1,2],gt:2,gt_layout:2,guess:0,guid:[6,7],ha:7,halflif:2,handl:7,have:[2,7],height:[0,2,7],height_mean:2,height_std:2,heights_from_region:0,here:0,hint:0,home:2,hook:[3,4],horizont:[2,6],how:7,http:[2,3,4,6,7],hull:2,i:0,id:2,ident:6,ignor:[2,3,4],ikodym:[0,2,6,7],imaag:2,imag:[0,2,4,7],img:2,img_path:[2,3,4],imperfect:0,implement:[2,7],in_img_path:2,indent:2,index:[1,2],indic:2,infer:[1,3,4],ini:[0,6,7],input:[0,2,3,4,7],input_layout:2,insid:2,instanc:[3,4],instead:[3,4],interrupt:7,intersect:2,intersect_polygon:2,invalid:2,invalidgeometryexcept:2,invalidxmlexcept:2,iou:2,iter:[0,6,7],its:[0,2],jpg:7,just:[2,7],keep:6,keyboard:0,label:2,larg:2,last:7,latest:[0,6],latter:[3,4],layout:6,layout_gt:2,layout_pars:[0,6],layout_parser_2:[0,6],layout_pr:2,leav:0,left:6,length:2,let:0,lib:2,like:[0,7],line1:2,line2:2,line:[0,2,6,7],line_baselin:2,line_filt:6,line_polygon:2,line_postprocess:0,line_thick:2,linestr:2,list:[2,6,7],list_dataset:0,load:[0,2,3,4,7],load_sampl:2,load_weight:[3,4],locat:[0,2,7],log:7,look:[0,7],loss:[6,7],lst:[6,7],m:2,main:[2,3,4],make:[0,7],map:[2,7],map_lin:2,mark:7,mask:[2,3,4,7],masked_dice_loss:4,masked_mse_loss:[3,4],match:2,matrix:2,matylda1:[0,6,7],max:[6,7],max_mapping_cer_differ:2,max_r:2,measur:6,method:[0,6],metric:[1,5,6,7],min_r:2,minim:7,miss:0,mnt:[0,6,7],model:[0,1,2,3,4],model_path:6,modul:[1,5],more:6,motion:[6,7],motionblur:2,mouseeditorcallback:2,move:2,mse_alfa:4,multi:1,multi_orient:6,multipl:2,must:2,n:2,ndarrai:2,need:[2,3,4,7],net:[3,4,6,7],net_definit:[3,4],next:6,nn:[3,4],non:2,none:2,norm:[3,4],normal:2,normalizelin:2,num_aug:[],num_bar:2,num_channel:4,num_group:2,num_in:[3,4],num_out:[3,4],num_scal:4,number:[2,4,7],numpi:2,o2o:2,o2o_threshold:2,o:[0,6,7],object:[0,2,3,4,6],ocr:7,ocr_pipeline_ev:7,offset:2,often:[0,7],onc:0,one:[2,3,4,7],onli:[0,2,6,7],onlin:7,option:2,order:2,org:[3,4,6,7],orient:[1,2],orientation_net:[2,5],orientationloss:3,orientationnet:[2,5,6],orientationnet_torch:6,orientationnetdatasetonlin:2,orientationnettrain:3,origin:6,other:[0,7],otherwis:2,out:2,out_img_path:2,output:[0,3,4,6,7],outsid:2,over:[0,2],overlap:[0,2],overridden:[3,4],overwritten:0,p:0,packag:[0,1,5,7],page:[1,2,7],page_editor:[0,1,5],page_gt:2,page_imag:2,page_layout:2,page_pars:0,page_path:[2,3,4],page_pr:2,pageeditor:2,pagelayout:2,pagexml:[2,7],pair:7,panda:2,param:2,paramet:[2,3,4,7],pars:6,parse_argu:[2,3,4],parse_fold:[0,6,7],parse_net:[2,5,7],parsenet:[2,5,6,7],parsenet_torch:7,parsenetdatasetonlin:2,parsenettrain:4,parser:0,parserloss:4,partli:2,pass:[3,4],patch:[2,6,7],patch_siz:2,path:[0,2,3,4,6,7],per:7,perfect:7,perform:[3,4,6,7],period:7,pero:[0,6,7],pero_ocr:[0,2],pero_ocr_path:[0,7],pero_path:[0,6,7],pipelin:7,pixel:2,plot_bar:2,point:[0,2],poli:2,poly_1:2,poly_2:2,poly_list_1:2,poly_list_2:2,polygon:[0,2],polygon_coord:2,polygon_correct:2,pos_in_region:2,pre:[0,7],precis:2,pred_path:2,predict:[0,2],prepar:1,preserv:7,previous:0,print_timestamp:[3,4],probabl:2,process:4,properti:2,provid:[2,3,4],pt:[6,7],py:[0,2,6,7],python3:2,python:[0,6,7],pythonpath:7,question:2,random:2,randomwalkmotionblur:2,rang:2,recal:2,recip:[3,4],recreat:2,recreate_region_bound:2,refer:[2,7],region:[0,2],region_polygon:2,regions_coord:2,regist:[3,4],regress:1,relu:[3,4],remov:2,remove_selected_lin:2,remove_selected_region:2,render:[2,6,7],render_selected_el:2,replac:2,resample_layout:2,resav:0,resolut:2,rest:7,result:[0,2,6,7],right:6,rng:2,rotat:[2,6],run:[0,3,4,6,7],run_decod:0,run_layout_pars:0,run_line_cropp:0,run_ocr:0,s:[0,2,7],safer:2,same:2,sampl:[2,7],save:[2,6,7],save_weight:[3,4],scalar:2,scale:4,scratch:1,script:[0,6,7],search:1,second:2,section:[0,6],see:[3,4],seed:2,select:0,select_layout_el:2,select_polygon:2,separ:[2,7],set:6,set_ev:[3,4],set_train:[3,4],setgpu:[3,4],sever:7,sh:[0,7],shape:[0,2],shell:0,should:[0,2,3,4,7],show:7,show_hint:2,silent:[3,4],similar:6,simpl:0,sinc:[3,4],singl:6,site:2,size:[2,6,7],skip:0,smooth:4,so:[6,7],softmax_output:[3,4],some:[0,7],sometim:0,sourc:[0,2],specif:2,specifi:[0,2],stackoverflow:2,start:[0,2,6,7],start_sampl:2,step:[6,7],store:2,subclass:[3,4],submodul:[1,5],subpackag:[1,5],support:6,sure:7,surround:2,symmetr:2,sync_all_height:2,sync_line_height:2,t:[2,7],tag:0,take:[3,4,7],target:[2,3,4,7],tell:[0,7],terat:7,test:[1,2,6],test_fil:[6,7],test_img_path:2,test_page_path:2,text:[0,2,6,7],tf_env:2,thei:[0,7],them:[0,3,4],thi:[0,3,4,6,7],three:6,threshold:2,through:0,tilt:2,time:6,titl:2,tmp_path:[],tool:[0,2],torch:[3,4,6,7],train:[0,2,5],train_data:[],train_img_path:2,train_mask:2,train_page_path:2,train_step:[3,4],trainer:[3,4],transcript:2,transform:2,transform_lin:2,transform_pag:2,transform_page_layout:2,transform_page_layout_saf:2,transform_region:2,transkribu:[0,2],transkribus_ev:2,trn:[6,7],truth:[1,2],truth_path:2,tst:[6,7],tune:7,tupl:2,two:[2,7],type:[2,7],under:6,unet2d_3:[3,4],union:2,univers:7,unless:2,updat:[3,4],update_layout:2,update_selected_lin:2,upon:0,upscaleblock2d:4,us:[0,1,2,6],usag:0,use_cpu:6,uselessli:2,user_script:[0,7],usual:0,valid:[0,2],valu:[2,7],variou:2,vector:2,veri:6,version:[2,7],vert:2,vert_prob:2,vertic:6,view:[6,7],want:[0,7],weight:2,weird:0,well:[0,6,7],when:[0,2],where:[0,7],whether:2,which:[0,2,4,6,7],within:[3,4],without:[0,2],would:7,wrong:0,x:[2,3,4],x_tick:2,xlabel:2,xml:[1,2,7],y:2,ye:[0,6],ylabel:2,ylim:2,you:[0,7]},titles:["Annotating data for layout detector","PERO Layout training documentation","layout package","layout.orientationnet package","layout.parsenet package","layout","Multi-orientation documents","Training and using layout detector"],titleterms:{annot:0,augment_imgaug:2,comp_ocr_pipelin:2,content:[1,2,3,4],data:[0,6,7],dataset:2,detector:[0,7],document:[1,6],eval_ocr_pipeline_xml:2,exist:0,extern:0,from:0,ground:0,indic:1,infer:[6,7],layout:[0,1,2,3,4,5,7],metric:2,model:[6,7],modul:[2,3,4],multi:6,orient:6,orientation_net:3,orientationnet:3,packag:[2,3,4],page:0,page_editor:2,parse_net:4,parsenet:4,pero:1,prepar:[6,7],regress:7,scratch:0,submodul:[2,3,4],subpackag:2,tabl:1,test:7,train:[1,3,4,6,7],truth:0,us:7,xml:0}})